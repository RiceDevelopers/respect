<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ุณูุฉ ุงูุชุณูู - ุนุทูุฑ ุงูุฎุจูุฑ - ุงููููุช</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
  <div class="header-inner">
    <a href="index.html" class="logo">ุนุทูุฑ <span>ุงูุฎุจูุฑ - ุงููููุช</span></a>
    <nav>
      <a href="index.html">ุงูุฑุฆูุณูุฉ</a>
      <a href="products.html">ุงูููุชุฌุงุช</a>
      <a href="products.html?cat=ูุณุงุฆู">ูุณุงุฆู</a>
      <a href="products.html?cat=ุฑุฌุงูู">ุฑุฌุงูู</a>
    </nav>
    <div class="header-actions">
      <a href="cart.html" class="btn-cart" style="border-color:var(--orange);color:var(--orange)">
        ๐ ุงูุณูุฉ
        <span class="cart-badge cart-count" style="display:none">0</span>
      </a>
    </div>
    <button class="burger"><span></span><span></span><span></span></button>
  </div>
</header>

<div class="mobile-menu">
  <a href="index.html">๐ ุงูุฑุฆูุณูุฉ</a>
  <a href="products.html">๐น ุงูููุชุฌุงุช</a>
  <a href="cart.html">๐ ุงูุณูุฉ</a>
</div>

<div class="page-header">
  <div class="container">
    <div class="section-label">ุชุณูู</div>
    <h1>ุณูุฉ <em style="font-style:italic;color:var(--orange)">ุงูุชุณูู</em> ๐ฐ๐ผ</h1>
    <p id="cart-count-text">ุฌุงุฑู ุงูุชุญููู...</p>
  </div>
</div>

<section>
  <div class="container">
    <div id="empty-cart" style="display:none;text-align:center;padding:100px 0">
      <div style="font-size:64px;margin-bottom:24px">๐</div>
      <h3 style="font-family:'Cormorant Garamond',serif;font-size:32px;margin-bottom:12px">ุณูุชู ูุงุฑุบุฉ</h3>
      <p style="color:var(--text-muted);margin-bottom:32px">ุงูุชุดู ุชุดูููุชูุง ูู ุงูุนุทูุฑ ุงููุงุฎุฑุฉ ูู ุงููููุช</p>
      <a href="products.html" class="btn-primary">ุชุณูู ุงูุขู ๐น</a>
    </div>
    
    <div class="cart-layout" id="cart-layout">
      <div id="cart-items"></div>
      <div class="cart-summary" id="cart-summary">
        <h3 class="summary-title">ููุฎุต ุงูุทูุจ</h3>
        <div class="summary-row">
          <span>ุงููุฌููุน ุงููุฑุนู</span>
          <span id="subtotal">0 ุฏ.ู</span>
        </div>
        <div class="summary-row">
          <span>ุงูุดุญู</span>
          <span id="shipping-cost">ูุฌุงูู</span>
        </div>
        <div class="summary-row">
          <span>ุงูุถุฑูุจุฉ (0%)</span>
          <span id="tax-cost">0 ุฏ.ู</span>
        </div>
        <div class="summary-row total">
          <span>ุงูุฅุฌูุงูู</span>
          <span id="total-cost">0 ุฏ.ู</span>
        </div>
        
        <div class="cod-notice">
          <div class="cod-icon">๐ฆ</div>
          <div>
            <strong style="color:var(--orange);display:block;margin-bottom:4px">ุงูุฏูุน ุนูุฏ ุงูุงุณุชูุงู</strong>
            ูุง ุชุฏูุน ุฅูุง ุนูุฏ ุงุณุชูุงู ุทูุจู! ุดุญู ูุฌุงูู ููุทูุจุงุช ููู 40 ุฏ.ู
          </div>
        </div>
        
        <a href="checkout.html" class="btn-primary" style="display:block;text-align:center;width:100%;margin-bottom:12px">
          ุงููุชุงุจุนุฉ ููุฏูุน โ
        </a>
        <a href="products.html" class="btn-outline" style="display:block;text-align:center;width:100%">
          โ ูุชุงุจุนุฉ ุงูุชุณูู
        </a>
        
        <div style="margin-top:20px;padding-top:20px;border-top:1px solid var(--border-subtle)">
          <p style="font-size:12px;color:var(--text-muted);text-align:center">
            ๐ ุดุฑุงุก ุขูู ููุดููุฑ | โ ููุชุฌุงุช ุฃุตููุฉ ูุถูููุฉ ูู ุงููููุช
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

<footer>
  <div class="container">
    <div class="footer-bottom">
      <p class="footer-copy">ยฉ 2025 ุนุทูุฑ ุงูุฎุจูุฑ - ุงููููุช.</p>
      <p class="footer-copy" style="color:var(--orange)">๐ณ ุงูุฏูุน ุนูุฏ ุงูุงุณุชูุงู ููุท - ุงููููุช</p>
    </div>
  </div>
</footer>

<div class="chat-widget">
  <button class="chat-btn" aria-label="ุชุญุฏุซ ูุนูุง">๐น<span class="pulse"></span></button>
  <div class="chat-box">
    <div class="chat-header">
      <div class="chat-avatar">๐ฐ๐ผ</div>
      <div><div class="chat-name">ูุณุงุนุฏ ุนุทูุฑ ุงูุฎุจูุฑ - ุงููููุช</div><div class="chat-status">ูุชุตู ุงูุขู</div></div>
      <button class="chat-close">ร</button>
    </div>
    <div class="chat-messages"></div>
    <div class="chat-input-area">
      <input type="text" class="chat-input" placeholder="ูู ุชุญุชุงุฌ ูุณุงุนุฏุฉุ" dir="rtl">
      <button class="chat-send">โค</button>
    </div>
  </div>
</div>

<script src="main.js"></script>
<script>
function renderCart() {
  const itemsEl = document.getElementById('cart-items');
  const emptyEl = document.getElementById('empty-cart');
  const layoutEl = document.getElementById('cart-layout');
  const countText = document.getElementById('cart-count-text');
  
  if (!cart.length) {
    emptyEl.style.display = 'block';
    layoutEl.style.display = 'none';
    countText.textContent = 'ุณูุชู ูุงุฑุบุฉ';
    return;
  }
  
  emptyEl.style.display = 'none';
  layoutEl.style.display = 'grid';
  countText.textContent = `${cart.reduce((s,i) => s+i.qty, 0)} ููุชุฌ ูู ุณูุชู`;
  
  itemsEl.innerHTML = cart.map(item => `
    <div class="cart-item" id="item-${item.key.replace(/[^a-zA-Z0-9]/g, '_')}">
      <div class="cart-item-img">
        <img src="${item.img}" alt="${item.name}">
      </div>
      <div class="cart-item-info">
        <h3 class="cart-item-name">${item.name}</h3>
        <p class="cart-item-desc">ุงูุญุฌู: ${item.size}</p>
        <div class="qty-control">
          <button class="qty-btn" onclick="updateCartQty('${item.key}', -1)">โ</button>
          <span class="qty-val">${item.qty}</span>
          <button class="qty-btn" onclick="updateCartQty('${item.key}', 1)">+</button>
          <button onclick="removeItem('${item.key}')" style="background:none;border:none;color:var(--red);cursor:pointer;font-size:20px;margin-right:8px" title="ุญุฐู">๐๏ธ</button>
        </div>
      </div>
      <div class="cart-item-price">${(item.price * item.qty).toFixed(3)} ุฏ.ู</div>
    </div>
  `).join('');
  
  // Totals
  const subtotal = getCartTotal();
  const shipping = subtotal >= 40 ? 0 : 2.500;
  const tax = 0; // No tax in Kuwait
  const total = subtotal + shipping + tax;
  
  document.getElementById('subtotal').textContent = subtotal.toFixed(3) + ' ุฏ.ู';
  document.getElementById('shipping-cost').textContent = shipping === 0 ? 'ูุฌุงูู ๐' : shipping.toFixed(3) + ' ุฏ.ู';
  document.getElementById('tax-cost').textContent = '0 ุฏ.ู';
  document.getElementById('total-cost').textContent = total.toFixed(3) + ' ุฏ.ู';
}

window.updateCartQty = (key, dir) => {
  const item = cart.find(i => i.key === key);
  if (!item) return;
  item.qty += dir;
  if (item.qty <= 0) { cart = cart.filter(i => i.key !== key); }
  saveCart();
  renderCart();
};

window.removeItem = (key) => {
  removeFromCart(key);
  renderCart();
  showToast('ุชู ุญุฐู ุงูููุชุฌ ูู ุงูุณูุฉ', 'info');
};

renderCart();
</script>
</body>
</html>