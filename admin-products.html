<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช - ููุญุฉ ุงูุชุญูู</title>
  <link rel="stylesheet" href="admin.css">
</head>
<body>

<div class="admin-layout">
  <!-- SIDEBAR -->
  <aside class="sidebar">
    <div class="sidebar-brand">
      <a href="index.html" class="sidebar-logo">ุนุทูุฑ <span>ุงูุฎุจูุฑ - ุงููููุช</span></a>
      <div class="sidebar-sub">ููุญุฉ ุงูุชุญูู ๐ฐ๐ผ</div>
    </div>
    <nav class="sidebar-nav">
      <div class="nav-section">
        <div class="nav-section-label">ุงูุฑุฆูุณูุฉ</div>
        <a href="admin-orders.html" class="sidebar-link">
          <span class="icon">๐</span> ููุญุฉ ุงูุชุญูู
        </a>
      </div>
      <div class="nav-section">
        <div class="nav-section-label">ุงููุชุฌุฑ</div>
        <a href="admin-products.html" class="sidebar-link active">
          <span class="icon">๐น</span> ุงูููุชุฌุงุช
        </a>
        <a href="admin-orders.html" class="sidebar-link">
          <span class="icon">๐ฆ</span> ุงูุทูุจุงุช
          <span class="badge" id="pending-count">...</span>
        </a>
      </div>
      <div class="nav-section">
        <div class="nav-section-label">ุงูุฅุนุฏุงุฏุงุช</div>
        <a href="admin-settings.html" class="sidebar-link">
          <span class="icon">โ๏ธ</span> ุฅุนุฏุงุฏุงุช ุงููุชุฌุฑ
        </a>
        <a href="index.html" class="sidebar-link">
          <span class="icon">๐</span> ุนุฑุถ ุงููููุน
        </a>
      </div>
    </nav>
    <div class="sidebar-footer">
      <div class="admin-user">
        <div class="admin-avatar">๐ฐ๐ผ</div>
        <div>
          <div class="admin-name">ุงููุฏูุฑ</div>
          <div class="admin-role">ูุฏูุฑ ุงููุธุงู - ุงููููุช</div>
        </div>
        <button class="logout-btn" title="ุชุณุฌูู ุงูุฎุฑูุฌ">โ๏ธ</button>
      </div>
    </div>
  </aside>

  <main class="admin-main">
    <div class="admin-topbar">
      <h1 class="page-title">ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช</h1>
      <div class="topbar-actions">
        <button class="btn btn-primary" id="add-product-btn">+ ุฅุถุงูุฉ ููุชุฌ</button>
      </div>
    </div>

    <div class="admin-content">
      <div class="data-table-card">
        <div class="table-header">
          <h2 class="table-title">ุฌููุน ุงูููุชุฌุงุช</h2>
          <div class="table-actions">
            <input type="text" class="search-input" placeholder="ุจุญุซ ุนู ููุชุฌ...">
          </div>
        </div>
        <div style="overflow-x:auto">
          <table id="products-table">
            <thead>
              <tr>
                <th>ุงูุตูุฑุฉ</th>
                <th>ุงุณู ุงูููุชุฌ</th>
                <th>ุงููุฆุฉ</th>
                <th>ุงูุณุนุฑ (ุฏ.ู)</th>
                <th>ุงููุฎุฒูู</th>
                <th>ุงูุญุงูุฉ</th>
                <th>ุฅุฌุฑุงุกุงุช</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </div>
  </main>
</div>

<!-- PRODUCT MODAL -->
<div class="modal-overlay" id="product-modal">
  <div class="modal">
    <div class="modal-header">
      <h3 class="modal-title" id="modal-title">ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ</h3>
      <button class="modal-close" onclick="closeModal()">ร</button>
    </div>
    <div class="modal-body">
      <input type="hidden" id="product-id">
      <form id="product-form">
        <div class="form-grid" style="margin-bottom:16px">
          <div class="form-group">
            <label>ุงุณู ุงูููุชุฌ *</label>
            <input type="text" class="form-control" id="product-name" placeholder="ูุซุงู: ุฑูุฒ ููุงุฑ" required>
          </div>
          <div class="form-group">
            <label>ุงููุฆุฉ *</label>
            <select class="form-control" id="product-category" required>
              <option value="ูุณุงุฆู">ูุณุงุฆู</option>
              <option value="ุฑุฌุงูู">ุฑุฌุงูู</option>
              <option value="ููููุณูุณ">ููููุณูุณ</option>
            </select>
          </div>
          <div class="form-group">
            <label>ุงูุณุนุฑ (ุฏ.ู) *</label>
            <input type="number" class="form-control" id="product-price" placeholder="25" required min="0" step="0.001">
          </div>
          <div class="form-group">
            <label>ุงููุฎุฒูู ุงููุชุงุญ</label>
            <input type="number" class="form-control" id="product-stock" placeholder="20" min="0" value="10">
          </div>
          <div class="form-group form-full">
            <label>ุงูุฃุญุฌุงู (ููุตููุฉ ุจูุงุตูุฉ)</label>
            <input type="text" class="form-control" id="product-sizes" placeholder="30ml, 50ml, 100ml" dir="ltr">
          </div>
          <div class="form-group">
            <label>ุงูุดุงุฑุฉ</label>
            <input type="text" class="form-control" id="product-badge" placeholder="ูุซุงู: ุฌุฏูุฏ, ุญุตุฑู, ุงูุฃูุซุฑ ูุจูุนุงู">
          </div>
          <div class="form-group form-full">
            <label>ุฑุงุจุท ุงูุตูุฑุฉ</label>
            <input type="url" class="form-control" id="product-img-url" placeholder="https://..." dir="ltr">
          </div>
          <div class="form-group form-full">
            <div id="img-previews" class="uploaded-images"></div>
          </div>
          <div class="form-group form-full">
            <label>ูุตู ุงูููุชุฌ *</label>
            <textarea class="form-control" id="product-desc" placeholder="ูุตู ุชูุตููู ููุนุทุฑ..." rows="3"></textarea>
          </div>
          <div class="form-group form-full">
            <label>ููุชุงุช ุงูุนุทุฑ</label>
            <textarea class="form-control" id="product-notes" placeholder="ุงูุนูููุฉ: | ุงูููุจ: | ุงููุงุนุฏุฉ:" rows="2"></textarea>
          </div>
        </div>
      </form>
    </div>
    <div class="modal-footer">
      <button class="btn btn-outline" onclick="closeModal()">ุฅูุบุงุก</button>
      <button class="btn btn-primary" id="save-product-btn">๐พ ุญูุธ ุงูููุชุฌ</button>
    </div>
  </div>
</div>

<script>
const PRODUCTS_DEFAULT = [
  {id:1,name:"ุฑูุฒ ููุงุฑ",category:"ูุณุงุฆู",price:28.500,stock:24,badge:"ุงูุฃูุซุฑ ูุจูุนุงู",desc:"ุนุทุฑ ูููู ูุฌูุน ุจูู ูุฑุฏุฉ ุงูุทุงุฆู ุงููุงุฏุฑุฉ ูุงููุณู ุงูุฃุจูุถ ุงูุดูุงู",notes:"ุงูุนูููุฉ: ูุฑุฏุฉ | ุงูููุจ: ูุงุณููู | ุงููุงุนุฏุฉ: ูุณู",sizes:["30ml","50ml","100ml"],img:"https://images.unsplash.com/photo-1588405748880-12d1d2a59f75?w=200&h=200&fit=crop",imgs:["https://images.unsplash.com/photo-1588405748880-12d1d2a59f75?w=600&h=600&fit=crop"],active:true,featured:true},
  {id:2,name:"ุนูุฏ ุงููููู",category:"ุฑุฌุงูู",price:45.000,stock:12,badge:"ุญุตุฑู",desc:"ุนุจู ุงูุนูุฏ ุงูููุจูุฏู ุงููุงุฎุฑ ุงููุฏูุฌ ุจุงูุจุฎูุฑ ุงูุดุฑูู",notes:"ุงูุนูููุฉ: ุชูุงุจู | ุงูููุจ: ุนูุฏ | ุงููุงุนุฏุฉ: ููุฑูุงู",sizes:["50ml","100ml"],img:"https://images.unsplash.com/photo-1602928321679-560bb453f190?w=200&h=200&fit=crop",imgs:["https://images.unsplash.com/photo-1602928321679-560bb453f190?w=600&h=600&fit=crop"],active:true,featured:true},
  {id:3,name:"ูุคูุคุฉ ุงูุดุฑู",category:"ูุณุงุฆู",price:19.500,stock:35,badge:null,desc:"ุชุฑููุจุฉ ุฃูุซููุฉ ุฑูููุฉ ุชูุฒุฌ ุจูู ุงูุจุฎูุฑ ุงูุฃุจูุถ ูุฃุฒูุงุฑ ุงูููููู",notes:"ุงูุนูููุฉ: ููููู | ุงูููุจ: ุจุฎูุฑ | ุงููุงุนุฏุฉ: ูุงููููุง",sizes:["30ml","50ml","100ml"],img:"https://images.unsplash.com/photo-1595535868835-74088c83f98a?w=200&h=200&fit=crop",imgs:["https://images.unsplash.com/photo-1595535868835-74088c83f98a?w=600&h=600&fit=crop"],active:true,featured:true},
  {id:4,name:"ูุฎูุฉ ุงูุณูู",category:"ุฑุฌุงูู",price:32.000,stock:18,badge:"ุฌุฏูุฏ",desc:"ููุฉ ูุฃูุงูุฉ ูู ุขู ูุงุญุฏ",notes:"ุงูุนูููุฉ: ูุนูุงุน | ุงูููุจ: ุฎุดุจ | ุงููุงุนุฏุฉ: ูุณู",sizes:["50ml","100ml","200ml"],img:"https://images.unsplash.com/photo-1541643600914-78b084683702?w=200&h=200&fit=crop",imgs:["https://images.unsplash.com/photo-1541643600914-78b084683702?w=600&h=600&fit=crop"],active:true,featured:false},
  {id:5,name:"ุบููุฉ ุงูุนุดู",category:"ููููุณูุณ",price:23.000,stock:0,badge:null,desc:"ูุฒูุฌ ุณุญุฑู ูู ุงูุฒููุฑ ุงูุดุฑููุฉ",notes:"ุงูุนูููุฉ: ุจุฑุบููุช | ุงูููุจ: ูุฑุฏุฉ | ุงููุงุนุฏุฉ: ูุณู",sizes:["30ml","50ml"],img:"https://images.unsplash.com/photo-1592945403244-b3faa00c5a21?w=200&h=200&fit=crop",imgs:["https://images.unsplash.com/photo-1592945403244-b3faa00c5a21?w=600&h=600&fit=crop"],active:false,featured:true},
  {id:6,name:"ุณูุทุงูุฉ ุงูููู",category:"ูุณุงุฆู",price:39.000,stock:8,badge:"ูุญุฏูุฏ",desc:"ุฑูุญ ุงูููู ุงูุดุฑูู ูู ุฒุฌุงุฌุฉ",notes:"ุงูุนูููุฉ: ูุงุณููู | ุงูููุจ: ุนูุฏ | ุงููุงุนุฏุฉ: ุนูุจุฑ",sizes:["50ml","100ml"],img:"https://images.unsplash.com/photo-1563170351-be54bff31d8c?w=200&h=200&fit=crop",imgs:["https://images.unsplash.com/photo-1563170351-be54bff31d8c?w=600&h=600&fit=crop"],active:true,featured:false},
  {id:7,name:"ุฐูุจ ุงูุตุญุฑุงุก",category:"ุฑุฌุงูู",price:26.000,stock:22,badge:null,desc:"ุฑูุญ ุงูุตุญุฑุงุก ุงูุนุฑุจูุฉ",notes:"ุงูุนูููุฉ: ูุจุงู | ุงูููุจ: ุนูุฏ | ุงููุงุนุฏุฉ: ููุฑูุงู",sizes:["50ml","100ml"],img:"https://images.unsplash.com/photo-1577401132921-cb39bb0adcff?w=200&h=200&fit=crop",imgs:["https://images.unsplash.com/photo-1577401132921-cb39bb0adcff?w=600&h=600&fit=crop"],active:true,featured:false},
  {id:8,name:"ูุณูุฉ ุงููุฌุฑ",category:"ููููุณูุณ",price:17.500,stock:40,badge:"ุงูุฃุญุจ ููุนููุงุก",desc:"ุฎููู ููุณูุฉ ุงููุฌุฑ",notes:"ุงูุนูููุฉ: ุดุงู ุฃุฎุถุฑ | ุงูููุจ: ูุฑูุฒูุง | ุงููุงุนุฏุฉ: ูุณู ุฃุจูุถ",sizes:["30ml","50ml","100ml"],img:"https://images.unsplash.com/photo-1544161515-4ab6ce6db874?w=200&h=200&fit=crop",imgs:["https://images.unsplash.com/photo-1544161515-4ab6ce6db874?w=600&h=600&fit=crop"],active:true,featured:false}
];
window.PRODUCTS_DEFAULT = PRODUCTS_DEFAULT;

// Load saved products or use defaults
if (!localStorage.getItem('admin_products')) {
  localStorage.setItem('admin_products', JSON.stringify(PRODUCTS_DEFAULT));
}

// Update pending count
const orders = JSON.parse(localStorage.getItem('admin_orders') || '[]');
const pending = orders.filter(o => o.status === 'pending').length;
const badge = document.getElementById('pending-count');
if (badge) badge.textContent = pending || '';
</script>
<script src="admin.js"></script>
</body>
</html>