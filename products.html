<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ุงูููุชุฌุงุช - ุนุทูุฑ Flavus</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
  <div class="header-inner">
    <a href="index.html" class="logo">Flavus <span></span></a>
    <nav>
      <a href="index.html">ุงูุฑุฆูุณูุฉ</a>
      <a href="products.html" class="active">ุงูููุชุฌุงุช</a>
      <a href="products.html?cat=ูุณุงุฆู">ูุณุงุฆู</a>
      <a href="products.html?cat=ุฑุฌุงูู">ุฑุฌุงูู</a>
      <a href="products.html?cat=ููููุณูุณ">ููููุณูุณ</a>
    </nav>
    <div class="header-actions">
      <a href="cart.html" class="btn-cart">
        ๐ ุงูุณูุฉ
        <span class="cart-badge cart-count" style="display:none">0</span>
      </a>
    </div>
    <button class="burger"><span></span><span></span><span></span></button>
  </div>
</header>

<div class="mobile-menu">
  <a href="index.html">๐ ุงูุฑุฆูุณูุฉ</a>
  <a href="products.html">๐น ุงูููุชุฌุงุช</a>
  <a href="products.html?cat=ูุณุงุฆู">๐ฉ ูุณุงุฆู</a>
  <a href="products.html?cat=ุฑุฌุงูู">๐จ ุฑุฌุงูู</a>
  <a href="products.html?cat=ููููุณูุณ">โจ ููููุณูุณ</a>
  <a href="cart.html">๐ ุงูุณูุฉ</a>
</div>

<div class="page-header">
  <div class="container">
    <div class="section-label">ุชุณูู ูู ุงููููุช</div>
    <h1>ุฌููุน <em style="font-style:italic;color:var(--orange)">ุงูุนุทูุฑ</em> ๐ฐ๐ผ</h1>
    <p>ุงูุชุดู ุชุดูููุชูุง ุงููุงุณุนุฉ ูู ุฃุฑูู ุงูุนุทูุฑ ุงูุดุฑููุฉ ูุงูุนุงูููุฉ ูู ุงููููุช</p>
  </div>
</div>

<section>
  <div class="container">
    <div class="filters-bar">
      <div class="filter-tags">
        <button class="filter-tag active" data-filter="all">ุงููู</button>
        <button class="filter-tag" data-filter="ูุณุงุฆู">ูุณุงุฆู</button>
        <button class="filter-tag" data-filter="ุฑุฌุงูู">ุฑุฌุงูู</button>
        <button class="filter-tag" data-filter="ููููุณูุณ">ููููุณูุณ</button>
      </div>
      <div style="display:flex;align-items:center;gap:12px">
        <span style="font-size:13px;color:var(--text-muted)" id="products-count"></span>
        <select class="sort-select" id="sort-select">
          <option value="default">ุงูุชุฑุชูุจ ุงูุงูุชุฑุงุถู</option>
          <option value="price-asc">ุงูุณุนุฑ: ุงูุฃูู ููุฃุนูู</option>
          <option value="price-desc">ุงูุณุนุฑ: ุงูุฃุนูู ููุฃูู</option>
          <option value="name">ุญุณุจ ุงูุงุณู</option>
        </select>
      </div>
    </div>
    
    <!-- Price Range -->
    <div style="margin-bottom:32px;display:flex;align-items:center;gap:20px;flex-wrap:wrap">
      <span style="font-size:13px;color:var(--text-secondary)">ูุทุงู ุงูุณุนุฑ (ุฏ.ู):</span>
      <input type="range" id="price-range" min="0" max="50" value="50" step="0.5" style="accent-color:var(--orange);width:200px">
      <span id="price-display" style="font-size:13px;color:var(--orange);font-weight:600">ุญุชู 50 ุฏ.ู</span>
      <label style="display:flex;align-items:center;gap:8px;font-size:13px;color:var(--text-secondary);cursor:pointer">
        <input type="checkbox" id="in-stock" style="accent-color:var(--orange)"> ูุชููุฑ ููุท
      </label>
    </div>

    <div class="products-grid" id="products-grid"></div>
    <div id="no-results" style="display:none;text-align:center;padding:80px 0;color:var(--text-muted)">
      <div style="font-size:48px;margin-bottom:16px">๐ฐ๐ผ๐</div>
      <p style="font-size:16px">ูุง ุชูุฌุฏ ููุชุฌุงุช ูุทุงุจูุฉ ูุจุญุซู ูู ุงููููุช</p>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer>
  <div class="container">
    <div class="footer-grid">
      <div>
        <a href="index.html" class="footer-logo">ุนุทูุฑ <span>ุงูุฎุจูุฑ - ุงููููุช</span></a>
        <p class="footer-desc">ููุฏู ุฃูุฎุฑ ุงูุนุทูุฑ ุจุถูุงู ุงูุฌูุฏุฉ ูุงูุฏูุน ุนูุฏ ุงูุงุณุชูุงู ูู ุงููููุช.</p>
      </div>
      <div>
        <h4 class="footer-heading">ุฑูุงุจุท</h4>
        <ul class="footer-links">
          <li><a href="index.html">ุงูุฑุฆูุณูุฉ</a></li>
          <li><a href="products.html">ุงูููุชุฌุงุช</a></li>
          <li><a href="cart.html">ุงูุณูุฉ</a></li>
        </ul>
      </div>
      <div>
        <h4 class="footer-heading">ุงููุฆุงุช</h4>
        <ul class="footer-links">
          <li><a href="products.html?cat=ูุณุงุฆู">ูุณุงุฆู</a></li>
          <li><a href="products.html?cat=ุฑุฌุงูู">ุฑุฌุงูู</a></li>
          <li><a href="products.html?cat=ููููุณูุณ">ููููุณูุณ</a></li>
        </ul>
      </div>
      <div>
        <h4 class="footer-heading">ุชูุงุตู</h4>
        <ul class="footer-links">
          <li><a href="tel:+96550000000">๐ +965 50000000</a></li>
          <li><a href="mailto:info@perfume.kw">๐ง info@perfume.kw</a></li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      <p class="footer-copy">ยฉ 2025 ุนุทูุฑ ุงูุฎุจูุฑ - ุงููููุช. ุฌููุน ุงูุญููู ูุญููุธุฉ.</p>
      <p class="footer-copy" style="color:var(--orange)">๐ณ ุงูุฏูุน ุนูุฏ ุงูุงุณุชูุงู ููุท - ุงููููุช ๐ฐ๐ผ</p>
    </div>
  </div>
</footer>

<div class="chat-widget">
  <button class="chat-btn" aria-label="ุชุญุฏุซ ูุนูุง">๐ฌ<span class="pulse"></span></button>
  <div class="chat-box">
    <div class="chat-header">
      <div class="chat-avatar">๐ฌ</div>
      <div><div class="chat-name">ูุณุงุนุฏ ุนุทูุฑ ุงูุฎุจูุฑ - ุงููููุช</div><div class="chat-status">ูุชุตู ุงูุขู</div></div>
      <button class="chat-close">ร</button>
    </div>
    <div class="chat-messages"></div>
    <div class="chat-input-area">
      <input type="text" class="chat-input" placeholder="ุงุณุฃููู ุนู ุฃู ุนุทุฑ..." dir="rtl">
      <button class="chat-send">โค</button>
    </div>
  </div>
</div>

<script src="main.js"></script>
<script>
let currentFilter = 'all';
let currentSort = 'default';
let maxPrice = 50;
let inStockOnly = false;

function getFilteredProducts() {
  let list = [...PRODUCTS];
  if (currentFilter !== 'all') list = list.filter(p => p.category === currentFilter);
  list = list.filter(p => p.price <= maxPrice);
  if (inStockOnly) list = list.filter(p => p.stock > 0);
  if (currentSort === 'price-asc') list.sort((a, b) => a.price - b.price);
  else if (currentSort === 'price-desc') list.sort((a, b) => b.price - a.price);
  else if (currentSort === 'name') list.sort((a, b) => a.name.localeCompare(b.name, 'ar'));
  return list;
}

function renderProducts() {
  const grid = document.getElementById('products-grid');
  const noResults = document.getElementById('no-results');
  const countEl = document.getElementById('products-count');
  const list = getFilteredProducts();
  countEl.textContent = `${list.length} ููุชุฌ`;
  if (!list.length) { grid.innerHTML = ''; noResults.style.display = 'block'; return; }
  noResults.style.display = 'none';
  grid.innerHTML = list.map(createProductCard).join('');
  setTimeout(initFadeIn, 50);
}

// Filter tags
document.querySelectorAll('.filter-tag').forEach(btn => {
  btn.addEventListener('click', () => {
    document.querySelectorAll('.filter-tag').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    currentFilter = btn.dataset.filter;
    renderProducts();
  });
});

document.getElementById('sort-select').addEventListener('change', e => { currentSort = e.target.value; renderProducts(); });
document.getElementById('price-range').addEventListener('input', e => {
  maxPrice = e.target.value;
  document.getElementById('price-display').textContent = `ุญุชู ${maxPrice} ุฏ.ู`;
  renderProducts();
});
document.getElementById('in-stock').addEventListener('change', e => { inStockOnly = e.target.checked; renderProducts(); });

// URL filter
const urlParams = new URLSearchParams(window.location.search);
const catParam = urlParams.get('cat');
if (catParam) {
  currentFilter = catParam;
  document.querySelectorAll('.filter-tag').forEach(b => {
    b.classList.toggle('active', b.dataset.filter === catParam);
  });
}

renderProducts();
</script>
</body>
</html>
